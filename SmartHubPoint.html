<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap/3.3.7/bootstrap.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap/3.3.7/bootstrap.min.js"></script>
    <link href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src="js/SmartHubPoint.js"></script>
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0
        }
        
        td {
            padding: 10px;
        }
        
        .mc {
            margin: 20px 0 0 10px;
            position: relative
        }
        
        .sm {
            font-size: 10px;
            color: #999
        }
        
        .mlImg {
            margin-left: 10px;
            margin-bottom: 3px;
        }
        
        .red {
            color: red;
        }
        
        .form-control {
            display: inline;
        }
        
        #outer {
            width: 100%;
            margin: 10px auto;
        }
        
        #tab {
            overflow: hidden;
            zoom: 1;
            margin-left: 15px;
        }
        
        #tab li {
            float: left;
            color: #333;
            height: 30px;
            cursor: pointer;
            line-height: 30px;
            list-style-type: none;
            padding: 0 20px;
        }
        
        #tab li.current {
            background: #eee;
        }
        
        #content {
            border-top-width: 0;
        }
        
        #content ul {
            line-height: 25px;
            display: none;
            margin: 0 30px 0 15px;
            padding: 10px 0;
        }
        
        .layui-form-pane .layui-form-switch {
            margin-top: 0px;
            margin-left: 10px;
        }
        
        .layui-form-switch em {
            top: -1px;
        }
        
        .layui-btn {
            display: inline-block;
            height: 38px;
            line-height: 38px;
            padding: 0 18px;
            background-color: #861f41 !important;
            color: #fff !important;
            white-space: nowrap;
            text-align: center;
            font-size: 14px;
            border: none;
            border-radius: 2px;
            cursor: pointer;
        }
        
        #eye,
        #eye1 {
            cursor: pointer;
        }
        
        .czjz {
            display: table-cell !important;
            vertical-align: middle !important;
        }
        
        .state1 {
            color: #aaa;
        }
        
        .state2 {
            color: #00b0ff;
        }
        
        .state3 {
            color: #EB4F38;
        }
        
        .state4 {
            color: #00B694;
        }
        
        #pwd {
            display: none
        }
        
        #pwd1 {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="mc">
            <h2 style="margin-top:10px;"> SmartHub access point </h2>
            <p class="red" style="margin-top:20px;">Your SmartHub access point allows other devices to connect to the SmartHub's cellular or WiFi data</p>
            <p style="margin-top:30px;">Allow devices to connect to SmartHub access point:</p>

            <div class="row">
                <div id="outer" style="margin-top:20px;">
                    <ul id="tab">

                    </ul>
                    <div id="content">

                    </div>
                </div>
            </div>

            <script type="text/javascript">
                window.onload = function() {
                    var oLi = document.getElementById("tab").getElementsByTagName("li");
                    var oUl = document.getElementById("content").getElementsByTagName("ul");
                    for (var i = 0; i < oLi.length; i++) {
                        oLi[i].index = i;
                        oLi[i].onmouseover = function() {
                            for (var n = 0; n < oLi.length; n++) {
                                oLi[n].className = "";
                                this.className = "current";
                            }
                            for (var n = 0; n < oUl.length; n++) {
                                oUl[n].style.display = "none";
                                oUl[this.index].style.display = "block";
                            }
                        }
                    }
                }
            </script>
        </div>
    </div>


    <script src="layui/layui.js" charset="utf-8"></script>

    <script>
        layui.use(['form'], function() {
            var form = layui.form,
                layer = layui.layer,
                layedit = layui.layedit,
                laydate = layui.laydate;

        });
    </script>
    <script>
        window.onload = function() {

            save = function() {

                var data = {
                    "jsonrpc": "2.0",
                    "method": "SetWlanSettings",
                    "params": {
                        "wifi_config": [{
                            "phy_id": 2, //固定
                            "phy_name": "wifi2", //固定
                            "phy_enable": $('.current input[type="checkbox"]').val(), //对于开关
                            "hwmode": $(".hwmode option:selected").val(), //可变
                            "htmode": 3, //固定
                            "tx_power": 23, //固定
                            "Channel": $(".channel option:selected").val(), //可变
                            "country_code": $(".countryCode option:selected").val(), //可变
                            "vap_config": [{
                                "vap_id": 0, //固定
                                "vap_mode": "ap", //固定
                                "vap_enable": 0, //固定
                                "Ssid": $(".ssid").val(), //可变
                                "SsidHidden": 0, //固定
                                "SecurityMode": $(".EncryptionType").val(), //可变
                                "WepType": 0, //可变
                                "WpaType": 2, //可变
                                "WepKey": $(".pwd1").val(), //可变
                                "WpaKey": $(".pwd").val(), //可变
                                "ApIsolation": 0, //固定
                                "max_numsta": 15 //固定
                            }]
                        }]
                    },

                    "id": "9.1",

                };



                data = JSON.stringify(data);
                $.ajax({
                    type: "post",
                    url: "/action/action",
                    data: data,

                    dataType: "json",
                    contentType: "application/json;charset=utf-8",
                    success: function(res) {
                        console.log(data);
                        // $('#pwd').attr("disabled", true);
                        // $('#btn1').attr("disabled", true);
                        $("#content select,#content input,#content button").prop("disabled", true);
                        $('#edit').attr("disabled", false);

                        $('#pwd').attr("disabled", true);

                    },
                    error: function(jqXHR) {
                        alert("An error occurred：" + jqXHR.status);
                    }

                });
            }

            var isShow = true;

            change = function() {
                var v = $(".pwd").get(0);
                var v1 = $(".pwd1").get(0);
                if (isShow) {
                    v.type = "text";
                    v1.type = "text";
                    isShow = false;
                } else {
                    v.type = "password";
                    v1.type = "password";
                    isShow = true;
                }
            };
            change();



        }
    </script>
    <!-- <script>
        $(function() {
            var oldVal = "";
            $('#content select').each(function() {
                if ($(this).find("option:selected")) {
                    var _thisVal = $(this).find('option:selected').val();
                    oldVal = $(this).attr("old", _thisVal);
                    $('.channel').find("option[value=" + _thisVal + "]").not("option[value=0]").hide()
                }
            })

            $("#content select").change(function() {
                oldVal = $(this).attr("old");
                var _thisVal = $(this).find('option:selected').val();
                var id = $(this).attr("id");
                console.log(id)
                $(this).find("option[value=" + _thisVal + "]").not("option[value=0]").hide();
                $(this).find("option[value=" + oldVal + "]").show();
                $(this).attr("old", _thisVal)
            })

        });
    </script> -->
</body>

</html>