webpackJsonp([9],{Myk2:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("nBqZ"),o=a("7+uW"),r=a("HTKX");o.a.prototype.$resultTip=r.a;var e={name:"ChangePassword",data:function(){return{toast:null,oldPasswrod:"",newPasswrod:"",againPasswrod:"",btnDisable:!0,tipShow1:!1,tipClass:"",tiptext:"",tipShow2:!1,tipClass2:"",tiptext2:"",passwordError:!1}},mounted:function(){},methods:{showPassword:function(s){"password"==$("#Ap_Passwrod"+s).attr("type")?($("#Ap_Passwrod"+s).attr("type","text"),$("#pwd_show"+s).text("HIDE")):($("#Ap_Passwrod"+s).attr("type","password"),$("#pwd_show"+s).text("SHOW"))},passwordVerifiers:function(){var s=this.oldPasswrod.length,t=this.newPasswrod.length,a=this.againPasswrod.length;if(!(6<=s&&s<=64))return this.btnDisable=!0,!1;if(this.btnDisable=!1,t<8)this.newPasswrod&&(this.tiptext="Too short",this.tipClass="too-short",this.tipShow1=!0);else if(t>=8){this.newPasswrod.match(/^[0-9]{8,100}$|^[a-zA-Z]{8,64}$/)?(this.tiptext="Weak",this.tipClass="Weak",this.tipShow1=!0):this.newPasswrod.match(/^[A-Za-z0-9]{8,64}$/)?(this.tiptext="Fair",this.tipClass="Fair",this.tipShow1=!0):this.newPasswrod.match(/^[\da-zA-Z!@#$%|+-^&*.~]{8,64}$/)?(this.tiptext="Strong",this.tipClass="Strong",this.tipShow1=!0):this.tipShow1=!1}if(this.newPasswrod!=this.againPasswrod)return this.tipShow2=!0,this.tiptext2="Passwords don't match",this.tipClass2="Weak",this.btnDisable=!0,!1;if(this.newPasswrod&&(this.tipShow2=!0,this.tiptext2="Passwords match",$("#tip").text("Passwords match"),this.tipClass2="Strong"),8<=a&&a<=64)this.btnDisable=!1;else if(this.againPasswrod)return this.btnDisable=!0,this.tipShow2=!0,this.tiptext2="Password too short",this.tipClass2="too-short",!1;if(!(8<=t&&t<=64))return this.btnDisable=!0,!1;this.btnDisable=!1},savePassword:function(){var s=this,t="oldPwd="+this.oldPasswrod+"&newPwd="+this.againPasswrod;Object(i.a)("/action/password",t).then(function(t){t.result&&"0"==t.result.flag?s.passwordError=!0:(s.$resultTip({resultMsg:"Password successfully changed"}),s.$router.push({path:"/Home"}))}).catch(function(t){s.utils.DialogErr(t)})}}},n={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"Change-password"},[a("div",{staticClass:"Setup-describe"},[s._v("\n    Change the admin password for accessing your SmartHub settings\n  ")]),s._v(" "),a("div",{staticClass:"wireless"},[a("div",{staticClass:"prompt-row"},[a("label",{staticClass:"prompt-label"},[s._v("Current password:")]),s._v(" "),a("div",{staticClass:"prompt-inp-c"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.oldPasswrod,expression:"oldPasswrod"}],staticClass:"prompt-input",attrs:{type:"password",id:"Ap_Passwrod1"},domProps:{value:s.oldPasswrod},on:{keyup:s.passwordVerifiers,input:function(t){t.target.composing||(s.oldPasswrod=t.target.value)}}}),s._v(" "),a("span",{staticClass:"prompt-show",attrs:{id:"pwd_show1"},on:{click:function(t){return t.stopPropagation(),s.showPassword(1)}}},[s._v("SHOW")])]),s._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:s.passwordError,expression:"passwordError"}],staticClass:"password-tip2 Weak"},[s._v("\n        Password is incorrect\n      ")])]),s._v(" "),a("div",{staticClass:"prompt-row -mt10"},[a("label",{staticClass:"prompt-label"},[s._v("Create new password:")]),s._v(" "),a("div",{staticClass:"prompt-inp-c"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.newPasswrod,expression:"newPasswrod"}],staticClass:"prompt-input",attrs:{type:"password",id:"Ap_Passwrod2"},domProps:{value:s.newPasswrod},on:{keyup:s.passwordVerifiers,input:function(t){t.target.composing||(s.newPasswrod=t.target.value)}}}),s._v(" "),a("span",{staticClass:"prompt-show",attrs:{id:"pwd_show2"},on:{click:function(t){return t.stopPropagation(),s.showPassword(2)}}},[s._v("SHOW")])]),s._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:s.tipShow1,expression:"tipShow1"}],staticClass:"password-tip"},[s._v("\n        Password strength:\n        "),a("span",{staticClass:"tip-text",class:s.tipClass},[s._v(s._s(s.tiptext))])])]),s._v(" "),a("div",{staticClass:"Setup-describe"},[s._v("\n      Your password should be at least 8 characters long. Avoid using\n      dictionary words and re-using other passwords.\n    ")]),s._v(" "),a("div",{staticClass:"prompt-row"},[a("label",{staticClass:"prompt-label"},[s._v("Password:")]),s._v(" "),a("div",{staticClass:"prompt-inp-c"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.againPasswrod,expression:"againPasswrod"}],staticClass:"prompt-input",attrs:{type:"password",id:"Ap_Passwrod3"},domProps:{value:s.againPasswrod},on:{keyup:s.passwordVerifiers,input:function(t){t.target.composing||(s.againPasswrod=t.target.value)}}}),s._v(" "),a("span",{staticClass:"prompt-show",attrs:{id:"pwd_show3"},on:{click:function(t){return t.stopPropagation(),s.showPassword(3)}}},[s._v("SHOW")])]),s._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:s.tipShow2,expression:"tipShow2"}],staticClass:"password-tip2",class:s.tipClass2},[s._v("\n        "+s._s(s.tiptext2)+"\n      ")])])]),s._v(" "),a("div",{staticClass:"Setup-btn -flex-display"},[a("button",{staticClass:"btn ok",attrs:{id:"APOk",disabled:s.btnDisable},on:{click:function(t){return t.stopPropagation(),s.savePassword(t)}}},[s._v("\n      Change password\n    ")])])])},staticRenderFns:[]};var p=a("VU/8")(e,n,!1,function(s){a("tEW2")},"data-v-8af8ecee",null);t.default=p.exports},tEW2:function(s,t){}});