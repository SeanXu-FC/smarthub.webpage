webpackJsonp([13],{FY22:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("3gWi");var a=n("ZxCb"),i=n("nBqZ"),s=n("VTEy");n("7+uW").a.use(a.a);var l={name:"ChannelConfiguration",components:{prompt:s.a},data:function(){return{toast:null,ChannelArr:[],ChannelName:"",voltTypeSelect:"",EditPrompt:!1,EditChannel:{}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.toast=this.utils.ToastMsg(2),Object(i.b)("IoConfigure",{mode:"0"}).then(function(e){if(t.toast.clear(),e.result&&e.result.io_date){for(var n=e.result.io_date,a=0;a<n.length;a++)a<4&&(0==n[a].types?n[a].voltType="Analog input":2==n[a].types?n[a].voltType="Digital negative input":n[a].voltType="Digital postive input");t.ChannelArr=n}else e.error&&t.utils.ToastMsg(0,2e3,e.error.message)}).catch(function(e){t.toast.clear(),t.utils.DialogErr("Error message","Communication exception, please try again later!")})},bindEditChannel:function(t){this.EditPrompt=!0,this.EditChannel=t,this.ChannelName=t.name,this.voltTypeSelect=t.types},EditOk:function(){var t=this,e={};e=Number(t.EditChannel.id)<5?{mode:2,id:Number(t.EditChannel.id),name:t.ChannelName,types:Number(t.voltTypeSelect)}:{mode:2,id:Number(t.EditChannel.id),name:t.ChannelName},Object(i.b)("IoConfigure",e).then(function(e){e.result?(t.getData(),t.EditPrompt=!1):e.error&&t.utils.ToastMsg(0,2e3,e.error.message)}).catch(function(e){t.utils.DialogErr("Error message","Communication exception, please try again later!")})},EditCancel:function(){this.EditPrompt=!1}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Channel"},[n("div",{staticClass:"Channel-title"},[t._v("Inputs")]),t._v(" "),n("div",{staticClass:"Channel-content -mt20"},t._l(t.ChannelArr,function(e,a){return n("div",{key:e.id},[n("div",{staticClass:"Channel-item"},[n("div",{staticClass:"Channel-name"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"Channel-num"},[t._v("Channel "+t._s(e.id))]),t._v(" "),a<4?n("div",{staticClass:"Channel-volt"},[t._v("\n          "+t._s(e.voltType)+"\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"Channel-switch",on:{click:function(n){return t.bindEditChannel(e)}}},[t._v("\n          Edit\n        ")])]),t._v(" "),3==a?n("div",{staticClass:"Channel-title -mt20 -pt10 -mb20"},[t._v("\n        Outputs\n      ")]):t._e()])}),0),t._v(" "),n("prompt",{directives:[{name:"show",rawName:"v-show",value:t.EditPrompt,expression:"EditPrompt"}]},[n("div",{staticClass:"prompt-c",attrs:{slot:"promtHtml"},slot:"promtHtml"},[n("p",{staticClass:"prompt-t"},[t._v("\n        Edit "+t._s(4>t.EditChannel.id?"input":"output")+"\n      ")]),t._v(" "),n("div",{staticClass:"prompt-row"},[n("label",{staticClass:"prompt-label"},[t._v("Channel number: "+t._s(t.EditChannel.id))])]),t._v(" "),n("div",{staticClass:"prompt-row"},[n("label",{staticClass:"prompt-label"},[t._v("Channel name:")]),t._v(" "),n("div",{staticClass:"prompt-inp-c"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ChannelName,expression:"ChannelName"}],staticClass:"prompt-input",attrs:{type:"text",id:"new_wifi_p"},domProps:{value:t.ChannelName},on:{input:function(e){e.target.composing||(t.ChannelName=e.target.value)}}})])]),t._v(" "),5>t.EditChannel.id?n("div",{staticClass:"prompt-row"},[n("label",{staticClass:"prompt-label"},[t._v("Input type:")]),t._v(" "),n("div",{staticClass:"prompt-inp-c"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.voltTypeSelect,expression:"voltTypeSelect"}],staticClass:"prompt-select",attrs:{id:"security"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.voltTypeSelect=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[t._v("Digital positive")]),t._v(" "),n("option",{attrs:{value:"2"}},[t._v("Digital negative")]),t._v(" "),n("option",{attrs:{value:"0"}},[t._v("Analog")])])])]):t._e(),t._v(" "),n("div",{staticClass:"prompt-btn -mt30"},[n("button",{staticClass:"prompt-cancel",on:{click:function(e){return e.stopPropagation(),t.EditCancel(e)}}},[t._v("\n          Cancel\n        ")]),t._v(" "),n("button",{staticClass:"prompt-ok",class:""==t.ChannelName?"btnDisa":"",attrs:{disabled:""==t.ChannelName,id:"newWifiOk"},on:{click:function(e){return e.stopPropagation(),t.EditOk(e)}}},[t._v("\n          Save\n        ")])])])])],1)},staticRenderFns:[]};var r=n("VU/8")(l,o,!1,function(t){n("bKML")},"data-v-bc207e96",null);e.default=r.exports},bKML:function(t,e){}});