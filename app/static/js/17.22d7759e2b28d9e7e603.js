webpackJsonp([17],{W5J5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("3gWi");var s=a("ZxCb"),n=a("nBqZ");a("7+uW").a.use(s.a);var i=null,l={name:"ChannelMonitor",data:function(){return{toast:null,ChannelArr:[]}},mounted:function(){var t=this;this.getFirstData(),i=setInterval(function(){t.getData()},1e4)},beforeDestroy:function(){clearInterval(i)},methods:{getFirstData:function(){var t=this;this.toast=this.utils.ToastMsg(2),Object(n.b)("IoConfigure",{mode:"0"}).then(function(e){if(t.toast.clear(),e.result&&e.result.io_date){for(var a=e.result.io_date,s=0;s<a.length;s++)1==a[s].status?(0!=a[s].types?a[s].Switch=!0:a[s].Switch=!1,-1==a[s].volt?(a[s].volt="ACTIVE",a[s].class="active-green"):-2==a[s].volt?(a[s].volt="INACTIVE",a[s].class="tip-text"):-3==a[s].volt?(a[s].volt="UNKNOWN",a[s].class="tip-text"):(a[s].volt=a[s].volt+"v",a[s].class="Channel-v")):0==a[s].status&&(a[s].Switch=!1,a[s].volt="DISABLED",a[s].class="tip-text");t.ChannelArr=a}else e.error&&t.utils.ToastMsg(0,2e3,e.error.message)}).catch(function(e){t.toast.clear(),t.utils.DialogErr("Error message","Communication exception, please try again later!")})},getData:function(){var t=this;Object(n.b)("IoConfigure",{mode:"0"}).then(function(e){if(e.result&&e.result.io_date){for(var a=e.result.io_date,s=0;s<a.length;s++)1==a[s].status?(0!=a[s].types?a[s].Switch=!0:a[s].Switch=!1,-1==a[s].volt?(a[s].volt="ACTIVE",a[s].class="active-green"):-2==a[s].volt?(a[s].volt="INACTIVE",a[s].class="tip-text"):-3==a[s].volt?(a[s].volt="UNKNOWN",a[s].class="tip-text"):(a[s].volt=a[s].volt+"v",a[s].class="Channel-v")):0==a[s].status&&(a[s].Switch=!1,a[s].volt="DISABLED",a[s].class="tip-text");t.ChannelArr=a}else e.error&&t.utils.ToastMsg(0,2e3,e.error.message)}).catch(function(e){t.utils.DialogErr("Error message","Communication exception, please try again later!")})},swithChange:function(t,e){var a=this;0==t.Switch?this.ChannelArr[e].Switch=!0:1==t.Switch&&(this.ChannelArr[e].Switch=!1),Object(n.b)("IoConfigure",{mode:1,id:a.ChannelArr[e].id,types:1==a.ChannelArr[e].Switch?1:0}).then(function(t){t.result?a.getData():t.error&&a.utils.ToastMsg(0,2e3,t.error.message)}).catch(function(t){a.utils.DialogErr("Error message","Communication exception, please try again later!")})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Channel"},[a("div",{staticClass:"Channel-title"},[t._v("Inputs")]),t._v(" "),a("div",{staticClass:"Channel-content -mt20"},t._l(t.ChannelArr,function(e,s){return a("div",{key:e.id},[a("div",{staticClass:"Channel-item"},[a("div",{staticClass:"Channel-name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"Channel-num"},[t._v("Channel "+t._s(e.id))]),t._v(" "),s<4?a("div",{class:e.class},[t._v("\n          "+t._s(e.volt)+"\n        ")]):t._e(),t._v(" "),s>3?a("div",{staticClass:"Channel-switch"},[a("van-switch",{attrs:{value:e.Switch,"active-color":"#26b167","inactive-color":"#e0e0e0",size:"24px"},on:{input:function(a){return t.swithChange(e,s)}}})],1):t._e(),t._v(" "),s>3&&0==e.status?a("div",{staticClass:"tip-text"},[t._v("\n          DISABLED\n        ")]):t._e()]),t._v(" "),3==s?a("div",{staticClass:"Channel-title -mt20 -pt10 -mb20"},[t._v("\n        Outputs\n      ")]):t._e()])}),0)])},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(t){a("cF/t")},"data-v-7dfbe5c8",null);e.default=o.exports},"cF/t":function(t,e){}});