webpackJsonp([18],{DxYB:function(e,t){},ZJ2r:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("Xrj1");var r=s("1nur"),a=s("nBqZ");s("VTEy"),s("mtWM");s("7+uW").a.use(r.a);var o=null,n=null,i={name:"Restart",data:function(){return{percent:0,progressS:!0,progressTip:"Restarting SmartHub...",progressColor:"#861f41"}},mounted:function(){this.reStartInit()},methods:{percentTimer:function(e){var t=this;clearInterval(n),n=setInterval(function(){t.percent<80?t.percent++:clearInterval(n)},625)},reStartInit:function(){var e=this;Object(a.b)("RestartAndReset",{mode:0},1e4).then(function(t){e.percentTimer(),console.log(t.result.status),t.result&&2==t.result.status?e.timePolling(6e3):t.result&&0==t.result.status?(e.progressTip="Restart SmartHub Fail",e.progressTip=!1):t.result&&1==t.result.status?e.restartSuccess():t.result&&3==t.result.status?e.timePolling(6e4):t.error&&(e.progressTip="Restart SmartHub Fail",e.progressTip=!1,e.utils.ToastMsg(0,2e3,t.error.message))}).catch(function(t){console.log(t.message),"timeout of 10000ms exceeded"==t.message||e.utils.DialogErr(t.message)})},timePolling:function(e){var t=this;clearInterval(o),console.log(1111),o=setInterval(function(){console.log(e),t.PollingChecked()},e)},PollingChecked:function(){var e=this;Object(a.b)("RestartAndReset",{mode:2},1e4).then(function(t){console.log(t),t.result&&2==t.result.status||(t.result&&0==t.result.status?(clearInterval(o),e.progressTip="Restart SmartHub Fail",e.progressTip=!1):t.result&&1==t.result.status?(clearInterval(o),e.restartSuccess()):t.result&&3==t.result.status?e.timePolling(6e4):t.error&&(e.progressTip="Restart SmartHub Fail",e.progressTip=!1,e.utils.ToastMsg(0,2e3,t.error.message)))}).catch(function(t){console.log(t.message),"timeout of 10000ms exceeded"==t.message||e.utils.DialogErr(t.message)})},restartSuccess:function(){var e=this;this.percent=100,this.progressTip="Restart SmartHub Successful",this.progressColor="#26b167",clearInterval(o),setTimeout(function(){e.$router.push({path:"/Home"})},3e3)}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"RestartReset"},[t("div",{staticClass:"Restart-describe"},[this._v("\n    "+this._s(this.progressTip)+"\n  ")]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.progressS,expression:"progressS"}],staticClass:"progress-c"},[t("van-progress",{attrs:{percentage:this.percent,"stroke-width":"14",color:this.progressColor}})],1)])},staticRenderFns:[]};var u=s("VU/8")(i,l,!1,function(e){s("DxYB")},"data-v-288eb874",null);t.default=u.exports}});