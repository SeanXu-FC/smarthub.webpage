<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <link rel="stylesheet" href="css/bootstrap/3.3.7/bootstrap.min.css">


    <link rel="stylesheet" href="css/style.css?mv=20201229">
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/xadmin.css?mv=20201229">

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/common.js?mv=20201229"></script>
    <script src="js/bootstrap/3.3.7/bootstrap.min.js"></script>
    <script src="layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/xadmin.js?mv=20201229"></script>
    <title>Document</title>
    <style>
        /* img {
            width: 100%;
            height: auto;
            max-width: 100%;
            display: block;
        } */
        
        .Connected {
            width: 111px;
            height: 30px;
            font-family: OpenSans;
            font-size: 22px;
            font-weight: normal;
            font-stretch: normal;
            font-style: normal;
            line-height: 1.14;
            letter-spacing: normal;
            text-align: left;
            /* color: #26b167; */
        }
        
        .MyText {
            width: 133px;
            height: 24px;
            font-family: OpenSans;
            font-size: 18px;
            font-weight: normal;
            font-stretch: normal;
            font-style: normal;
            line-height: 1.44;
            letter-spacing: normal;
            text-align: left;
            color: #000000;
        }
        
        .ml-40 {
            margin-left: 60px !important;
        }
        
        .bd1 {
            width: 560px;
            height: auto;
            position: relative;
            overflow: hidden;
            zoom: 1;
            border: 0px solid #f00"

        }
        
        .status {
            font-size: 44px;
            font-weight: 600;
            color: #861f41;
            border-bottom: solid 1px #d2d2d2;
            padding-bottom: 20px;
            width: 92%
        }
        
        .mobiledataImg {
            position: absolute;
            top: 274px;
            left: 256px;
            z-index: 2;
            /* width: 56px; */
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        .WiFiNetwork {
            position: absolute;
            top: 145px;
            left: 178px;
            z-index: 1;
            /* width: 69px; */
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        .mobiledataImg-disable {
            position: absolute;
            top: 275px !important;
            left: 278px;
            z-index: 2;
            width: 12px;
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        .WiFiNetwork-disable {
            position: absolute;
            top: 147px;
            left: 240px;
            z-index: 1;
            width: 12px;
            max-width: 100%;
            height: auto;
            display: block;
            background-color: #fff;
        }
        
        .w520 {
            position: relative;
            width: 520px
        }
        
        .r_01 {
            display: block;
            /* width: 100px; */
            max-width: 100%;
            height: auto;
            margin: 0 auto
        }
        
        .r_02 {
            display: block;
            margin: 0 auto;
            /* width: 70px; */
            max-width: 100%;
            height: auto;
        }
        
        .group2916 {
            display: block;
            margin: 0 auto;
            /* width: 90px; */
            max-width: 100%;
            height: auto;
        }
        
        .r_06 {
            display: block;
            margin: 5px auto;
            /* width: 55px; */
            max-width: 100%;
            height: auto;
        }
        
        .r_07 {
            display: block;
            margin: 0 auto;
            /* width: 329px; */
            max-width: 100%;
            height: auto;
        }
        
        .Group2901 {
            margin-left: 21px;
            /* width: 34px; */
            max-width: 100%;
            height: auto;
            display: inline-block;
        }
        
        .Group2902 {
            /* width: 100px; */
            max-width: 100%;
            height: auto;
            display: inline-block;
        }
        
        .Group2903 {
            margin-left: 10px;
            /* width: 100px; */
            max-width: 100%;
            height: auto;
            display: inline-block;
        }
        
        .fw26 a {
            font-size: 26px;
            font-weight: 600;
        }
        
        .imgIcon {
            display: inline-block;
            margin-left: 15px;
            margin-bottom: 9px;
        }
        
        .ml85 {
            margin-left: -85px;
        }
        
        .red {
            color: red
        }
        
        .green {
            color: green;
        }
        
        .ml-16 {
            margin-left: 16px;
        }
        
        .ml-20 {
            margin-left: 20px;
        }
        
        .mb-10 {
            margin-bottom: 0px
        }
        
        @media (min-width:1368px) {
            .bd1 {
                width: 560px;
                height: auto;
                position: relative;
                overflow: hidden;
                zoom: 1;
                border: 0px solid #f00"

            }
            .status {
                font-size: 44px;
                font-weight: 600;
                color: #861f41;
                border-bottom: solid 1px #d2d2d2;
                padding-bottom: 10px !important;
                width: 92%
            }
            .mobiledataImg {
                position: absolute;
                top: 237px;
                left: 261px;
                z-index: 2;
                width: 56px;
                max-width: 100%;
                height: auto;
                display: block;
            }
            .WiFiNetwork {
                position: absolute;
                top: 130px;
                left: 197px;
                z-index: 1;
                width: 69px;
                max-width: 100%;
                height: auto;
                display: block;
            }
            .mobiledataImg-disable {
                position: absolute;
                top: 341px !important;
                left: 283px;
                z-index: 2;
                width: 12px;
                max-width: 100%;
                height: auto;
                display: none;
            }
            .WiFiNetwork-disable {
                position: absolute;
                top: 169px;
                left: 240px;
                z-index: 1;
                width: 12px;
                max-width: 100%;
                height: auto;
                display: none;
                background-color: #fff;
            }
            .w520 {
                position: relative;
                width: 520px;
                max-width: 100%;
            }
            .r_01 {
                display: block;
                width: 100px;
                max-width: 100%;
                height: auto;
                margin: 0 auto
            }
            .r_02 {
                display: block;
                margin: 0 auto;
                width: 70px;
                max-width: 100%;
                height: auto;
            }
            .group2916 {
                display: block;
                margin: 0 auto;
                width: 90px;
                max-width: 100%;
                height: auto;
            }
            .r_06 {
                display: block;
                margin: 5px auto;
                width: 55px;
                max-width: 100%;
                height: auto;
            }
            .r_07 {
                display: block;
                margin: 0 auto;
                width: 329px;
                max-width: 100%;
                height: auto;
            }
            .Group2901 {
                margin-left: 21px;
                width: 34px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            .Group2902 {
                width: 100px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            .Group2903 {
                margin-left: 10px;
                width: 100px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            #EthernetConnections {
                font-size: 18px;
            }
            #WirelessConnections {
                font-size: 18px;
            }
        }
        
        @media (max-width: 1366px) {
            .left-nav {
                width: auto !important;
            }
            #side-nav {
                margin-top: 20px;
                margin-left: 30px;
            }
            /* .ml-40 {
                margin-left: 0px !important;
            } */
            .bd1 {
                width: 560px;
                height: auto;
                position: relative;
                overflow: hidden;
                zoom: 1;
                border: 0px solid #f00"

            }
            .status {
                font-size: 34px;
                font-weight: 600;
                color: #861f41;
                border-bottom: solid 1px #d2d2d2;
                padding-bottom: 10px;
                width: 92%
            }
            .mobiledataImg {
                position: absolute;
                top: 180px !important;
                left: 264px;
                z-index: 2;
                width: 42px;
                max-width: 100%;
                height: auto;
                display: block;
            }
            .mobiledataImg-disable {
                position: absolute;
                top: 275px !important;
                left: 278px;
                z-index: 2;
                width: 12px;
                max-width: 100%;
                height: auto;
                display: none;
            }
            .WiFiNetwork {
                position: absolute;
                top: 120px;
                left: 211px;
                z-index: 1;
                width: 50px;
                max-width: 100%;
                height: auto;
                display: block;
            }
            .WiFiNetwork-disable {
                position: absolute;
                top: 147px;
                left: 240px;
                z-index: 1;
                width: 12px;
                max-width: 100%;
                height: auto;
                display: none;
                background-color: #fff;
            }
            .w520 {
                position: relative;
                width: 520px
            }
            .r_01 {
                display: block;
                width: 80px;
                max-width: 100%;
                height: auto;
                margin: 0 auto
            }
            .r_02 {
                display: block;
                margin: 0 auto;
                width: 60px;
                max-width: 100%;
                height: auto;
            }
            .group2916 {
                display: block;
                margin: 0 auto;
                width: 70px;
                max-width: 100%;
                height: auto;
            }
            .r_06 {
                display: block;
                margin: 5px auto;
                width: 50px;
                max-width: 100%;
                height: auto;
            }
            .r_07 {
                display: block;
                margin: 0 auto;
                width: 220px;
                max-width: 100%;
                height: auto;
            }
            #EthernetConnections {
                margin-right: 90px;
            }
            .Group2901 {
                margin-left: 21px;
                width: 20px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            .Group2902 {
                width: 60px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            .Group2903 {
                margin-left: 10px;
                width: 80px;
                max-width: 100%;
                height: auto;
                display: inline-block;
            }
            .ml85 {
                margin-left: 100px;
            }
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <h4 class="ml-40 mt-10 status">Status</h4>
            <div class="col-md-4 col-sm-4 col-lg-4 col-md-offset-1 mt-20">
                <div class="bd bd1">
                    <a href=" WiFiNetwork.html " title="Wi-Fi network "><img src="images/r_03.png " class="WiFiNetwork"><img src="images/no-connect.png " class="WiFiNetwork-disable"></a>
                    <a href="MobileData.html " title="Mobile data "><img src="images/r_04.png " class="mobiledataImg"><img src="images/no-connect.png " class="mobiledataImg-disable"></a>
                    <div class="w520">
                        <img src="images/r_01.png " class="r_01">
                    </div>
                    <div class="w520">
                        <img src="images/r_02.png " class="r_02">

                    </div>
                    <div class="w520">
                        <img src="images/Group 2916.png " class="group2916">
                    </div>
                    <div class="w520">
                        <a href="SmartHubPoint.html " title="SmartHub access point "><img src="images/r_06.png " class="r_06"></a>
                    </div>
                    <div class="w520">
                        <img src="images/r_07.png " class="r_07">
                    </div>
                    <div class="w520">
                        <div style="float:left;margin-left:20px; ">
                            <div id="WirelessConnections">Wireless connections <span></span></div>
                            <div class="mt-10" id="">
                                <a href="connectedDevices.html" target="_self"><img src="images/Group 2901.png " title="Wireless" class="Group2901"></a>
                                <a href="connectedDevices.html" target="_self"><img src="images/Group 2901.png " title="Wireless" class="Group2901"></a>
                                <a href="connectedDevices.html" target="_self"><img src="images/Group 2901.png " title="Wireless" class="Group2901"></a>
                            </div>
                        </div>
                        <div style="float:right ">
                            <div id="EthernetConnections">Ethernet connections <span></span></div>
                            <div class="mt-10 ">
                                <a href="connectedDevices.html" target="_self"><img src="images/Group 2902.png " title="Ethernet" class="Group2902"></a>
                                <a href="connectedDevices.html" target="_self"><img src="images/Group 2903.png " title="Ethernet" class="Group2902"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <img class="img-responsive " src="img/home001.png "> -->
            </div>
            <div class="col-md-6 col-md-offset-1 col-sm-6 col-lg-6 " style="float:right">
                <div class="mt-20 mb-10 bb1c w80 ">
                    <h3 class="fw26 ">Cloud</h3>
                    <div class="mb-10 mt-10 font18" id="connected">Status:<span class="ml-100 Connected cloud"></span></div>
                </div>
                <div class="mt-20 mb-10 bb1c w80 ">
                    <h3 class="fw26"><a href="WiFiNetwork-info1.html" target="_self">WiFi</a></h3>
                    <div class="mb-10 mt-10 font18">Status:<span class="ml-100 Connected connected24"></span></div>
                    <div class="mb-10 mt-10 font18 imgIcon1">Network:<span class="ml-85 MyText ssid"></span><img id="connected24" class="imgIcon"></div>
                </div>
                <div class="mt-20 mb-10 bb1c w80 ">
                    <h3 class="fw26"><a href="MobileData.html" target="_self">Mobile network</a></h3>
                    <div class="mb-10 mt-10 font18 imgIcon1">Status:<span class="ml-100 Connected Connected4G"></span><img id="Connected4G" class="imgIcon"></div>
                    <div class="mb-10 mt-10 font18 ">Network provider:<span class="ml-16 MyText NetworkProvider"></span></div>
                    <div class="mb-10 mt-10 font18 ">SIM card(in use):<span class="ml-20 MyText active_sim"></span></div>
                    <div class="mb-10 mt-10 font18 ">IMSI:<span class=" MyText imsi" style="margin-left: 115px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">PLMN:<span class=" MyText plmn" style="margin-left: 102px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">CSQ:<span class=" MyText csq" style="margin-left: 112px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">LOCATION:<span class=" MyText location" style="margin-left: 63px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">CELL:<span class=" MyText cell" style="margin-left: 108px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">ACT:<span class=" MyText act" style="margin-left: 119px;"></span></div>
                    <div class="mb-10 mt-10 font18 ">REGISTER:<span class=" MyText register" style="margin-left: 60px;"></span></div>
                </div>
                <div class="mb-10 mt-20 bb1c w80 " style="border-bottom: 0px solid #ccc;">
                    <h3 class="fw26 "><a href="SmartHubPoint.html" target="_self">SmartHub access point</a></h3>
                    <div class="mb-10 mt-10 font18 ">Status:<span class="ml-100 Connected clg Status "></span></div>
                    <div class="mb-10 mt-10 font18 ">Name:<span class="ml-103 MyText Name"></span></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    $(function() {
        var data = {
            "jsonrpc": "2.0",
            "method": "GetHomeStatus",
            "params": {},
            "id": "9.1"
        }
        data = JSON.stringify(data);
        $.ajax({
            type: "post",
            url: "/action/action",
            data: data,
            dataType: "json",
            contentType: "application/json;charset=utf-8",
            success: function(res) {
                if (res.result) {
                    var json = res.result;
                    var arr = ['Connected', 'Connected(2.4GHz)', 'Connected(5GHz)', 'On', 'Off', 'Error'];
                    if (json.cloud.status == 0) {
                        $('.cloud').eq(0).text(arr[5]);
                        $('.r_01').attr("src", "images/r_01_gray.png");
                        $('.cloud').css('color', 'red')
                    } else {
                        $('.Connected').eq(0).text(arr[0]);
                        $('.r_01').attr("src", "images/r_01.png");
                        $('.cloud').css('color', '#26b167');
                    }

                    if (json.sta.status == 0) {
                        $('.connected24').eq(0).text(arr[4]);
                        //$('.r_06').attr("src", "images/r_06_gray.png");
                        //$('#connected24').attr("src", "images/s_wifi_nonea.png");
                        $('.connected24').css('color', 'red');
                        $(".imgIcon1 .ssid").text("-");
                        $(".WiFiNetwork-disable").show();
                    } else if (json.sta.status == 2) {
                        $('.connected24').eq(0).text(arr[5]);
                        //$('.r_06').attr("src", "images/r_06_gray.png");
                        //$('#connected24').attr("src", "images/s_wifi_nonea.png");
                        $('.connected24').css('color', 'red');
                        $(".imgIcon1 .ssid").text("-");
                        $(".WiFiNetwork-disable").show();
                    } else {
                        if (json.sta.band == 0) {
                            $('.connected24').eq(0).text(arr[1]);
                        } else {
                            $('.connected24').eq(0).text(arr[2]);
                        }
                        $('.r_06').attr("src", "images/r_06.png");
                        $('.ssid').eq(0).text(json.sta.sta_ssid);
                        $('.connected24').css('color', '#26b167');
                        $(".WiFiNetwork-disable").hide();
                    }

                    var $img = $(".imgIcon1 img");
                    //var img0 = $('<img class="">');
                    var MobileSignalArr = ['mobileSignal-none.png', 'mobileSignal-0-20.png', 'mobileSignal-20-40.png', 'mobileSignal-40-60.png', 'mobileSignal-60-80.png', 'mobileSignal-80-100.png'];
                    var WiFiSignalArr = ['s_wifi_nonea.png', 's_wifi_02a.png', 's_wifi_03a.png', 's_wifi_04a.png', 's_wifi_05a.png'];
                    if (json.mobile.active_sim == 99) {
                        $('.Connected4G').eq(0).text(arr[4]);
                        $('#Connected4G').attr("src", "images/mobileSignal-none.png");
                        $('.Connected4G').css('color', 'red')
                        $('.NetworkProvider').eq(0).text(json.mobile.provider ? json.mobile.provider : '-');
                        $('.active_sim').eq(0).text(json.mobile.active_sim ? json.mobile.active_sim : '-');
                        $('.imsi').eq(0).text(json.mobile.imsi ? json.mobile.imsi : '-');
                        $('.plmn').eq(0).text(json.mobile.plmn ? json.mobile.plmn : '-');
                        $('.csq').eq(0).text(json.mobile.csq ? json.mobile.csq : '-');
                        $('.location').eq(0).text(json.mobile.lca ? json.mobile.lca : '-');
                        $('.act').eq(0).text(json.mobile.act ? json.mobile.act : '-');
                        $('.register').eq(0).text(json.mobile.cgreg ? json.mobile.cgreg : '');
                        $('.cell').eq(0).text(json.mobile.cell_id ? json.mobile.cell_id : '-');
                        $(".mobiledataImg-disable").show();
                    } else {
                        var mobileStatus = "";
                        if (json.mobile.status == 0) {
                            if (json.mobile.act_num == 0) {
                                mobileStatus = "Disconnected(3G)"
                            } else {
                                mobileStatus = "Disconnected(4G)"
                            }

                            $('.Connected4G').eq(0).text(mobileStatus);
                            $('.Connected4G').css('color', 'red')
                            $('.NetworkProvider').eq(0).text(json.mobile.provider ? json.mobile.provider : '-');
                            $('.active_sim').eq(0).text(json.mobile.active_sim ? json.mobile.active_sim : '-');
                            $('.imsi').eq(0).text(json.mobile.imsi ? json.mobile.imsi : '-');
                            $('.plmn').eq(0).text(json.mobile.plmn ? json.mobile.plmn : '-');
                            $('.csq').eq(0).text(json.mobile.csq ? json.mobile.csq : '-');
                            $('.location').eq(0).text(json.mobile.lca ? json.mobile.lca : '-');
                            $('.act').eq(0).text(json.mobile.act ? json.mobile.act : '-');
                            $('.register').eq(0).text(json.mobile.cgreg ? json.mobile.cgreg : '');
                            $('.cell').eq(0).text(json.mobile.cell_id ? json.mobile.cell_id : '-');
                            $(".mobiledataImg-disable").show();
                        } else {
                            if (json.mobile.act_num == 0) {
                                mobileStatus = "Connected(3G)"
                            } else {
                                mobileStatus = "Connected(4G)"
                            }
                            $('.Connected4G').eq(0).text(mobileStatus);
                            $('.NetworkProvider').eq(0).text(json.mobile.provider ? json.mobile.provider : '-');
                            $('.active_sim').eq(0).text(json.mobile.active_sim ? json.mobile.active_sim : '-');
                            $('.imsi').eq(0).text(json.mobile.imsi ? json.mobile.imsi : '-');
                            $('.plmn').eq(0).text(json.mobile.plmn ? json.mobile.plmn : '-');
                            $('.csq').eq(0).text(json.mobile.csq ? json.mobile.csq : '-');
                            $('.location').eq(0).text(json.mobile.lca ? json.mobile.lca : '-');
                            $('.act').eq(0).text(json.mobile.act ? json.mobile.act : '-');
                            $('.register').eq(0).text(json.mobile.cgreg ? json.mobile.cgreg : '');
                            $('.cell').eq(0).text(json.mobile.cell_id ? json.mobile.cell_id : '-');
                            $('.Connected4G').css('color', '#26b167')
                            $(".mobiledataImg-disable").hide();
                        }
                        if (json.mobile.signal);
                        if (json.mobile.signal > 0 && json.mobile.signal <= 6) {
                            $img.eq(1).attr("src", 'images/' + MobileSignalArr[1]);
                        } else if (json.mobile.signal > 6 && json.mobile.signal <= 12) {
                            $img.eq(1).attr("src", 'images/' + MobileSignalArr[2]);
                        } else if (json.mobile.signal > 12 && json.mobile.signal <= 18) {
                            $img.eq(1).attr("src", 'images/' + MobileSignalArr[3]);
                        } else if (json.mobile.signal > 18 && json.mobile.signal <= 24) {
                            $img.eq(1).attr("src", 'images/' + MobileSignalArr[4]);
                        } else if (json.mobile.signal > 24 && json.mobile.signal <= 30) {
                            $img.eq(1).attr("src", 'images/' + MobileSignalArr[5]);
                        }
                    }




                    if (json.ap.status == 0) {
                        $('.Status').eq(0).text(arr[4]);
                        $('.Name').eq(0).text(json.ap.name);
                        $('.clg').css({
                            'color': 'red'
                        })
                        $('.r_06').attr("src", "images/r_06_gray.png");
                    } else {
                        $('.Status').eq(0).text(arr[3]);
                        $('.Name').eq(0).text(json.ap.name);
                        $('.clg').css({
                            'color': '#26b167'
                        })
                    }

                    var wirelessLen = $('.Group2901').length;
                    var EthernetLen = $('.Group2902').length;

                    $('#WirelessConnections span').text('(' + json.dev.ap_num + ')');
                    $('#EthernetConnections span').text('(' + json.dev.eth_num + ')');


                    if (json.sta.status == 1) {
                        if (json.sta.signal);
                        signal = Math.abs(json.sta.signal);
                        if (100 > signal && signal >= 85) {
                            $img.eq(0).attr("src", 'images/' + WiFiSignalArr[1]);
                        } else if (85 > signal && signal >= 70) {
                            $img.eq(0).attr("src", 'images/' + WiFiSignalArr[2]);
                        } else if (70 > signal && signal >= 55) {
                            $img.eq(0).attr("src", 'images/' + WiFiSignalArr[3]);
                        } else if (55 > signal) {
                            $img.eq(0).attr("src", 'images/' + WiFiSignalArr[4]);
                        }

                    }
                } else if (res.error) {
                    layui.use(['layer'], function() {
                        var layer = layui.layer;
                        layer.msg("An error occurredï¼š" + res.error.message);
                    })
                }
            },
            error: function(jqXHR) {
                var tip = '<div style="padding: 20px;text-align: center;word-wrap:break-word;">' + JSON.stringify(jqXHR) + '</div>';
                promptMessage("Error message", tip);

            }
        });
    });
</script>

</html>